
<!-- Text field  -->
<div class="row">
    <div class="column">
        <label for="options_rent_fetch_api_key">Rent Fetch API Key</label>
    </div>
    <div class="column">
        <input type="text" name="options_rent_fetch_api_key" id="options_rent_fetch_api_key" value="<?php echo esc_attr( get_option( 'options_rent_fetch_api_key' ) ); ?>">
        <p class="description">Required for syncing any data down from an API.</p>
    </div>
</div>
<?php
    // Text field
    if ( isset( $_POST['options_rent_fetch_api_key']) ) {
        $options_rent_fetch_api_key = sanitize_text_field( $_POST['options_rent_fetch_api_key'] );
        update_option( 'options_rent_fetch_api_key', $options_rent_fetch_api_key );
    }
?>

<!-- Select field -->
<div class="row">
    <div class="column">
        <label for="options_apartment_site_type">Site type</label>
    </div>
    <div class="column">
        <select name="options_apartment_site_type" id="options_apartment_site_type" value="<?php echo esc_attr( get_option( 'options_apartment_site_type' ) ); ?>">
            <option value="single" <?php selected( get_option( 'options_apartment_site_type' ), 'single' ); ?>>This site is for a single property</option>
            <option value="multiple" <?php selected( get_option( 'options_apartment_site_type' ), 'multiple' ); ?>>This site is for multiple properties</option>
        </select>
    </div>
</div>
<?php
    // Select field
    if ( isset( $_POST['options_apartment_site_type']) ) {
        $options_apartment_site_type = sanitize_text_field( $_POST['options_apartment_site_type'] );
        update_option( 'options_apartment_site_type', $options_apartment_site_type );
    }
?>

<!-- Radio field -->
<div class="row">
        <div class="column">
        <label for="options_data_sync">Data Sync</label>
        <p class="description">Setting this to delete will immediately pause all ongoing processes and start tasks to delete all properties and floorplans which were previously synced. This process is not reversible.</p>
    </div>
    <div class="column">
        <ul class="radio">
            <li>
                <label>
                    <input type="radio" name="options_data_sync" id="options_data_sync" value="nosync" <?php checked( get_option( 'options_data_sync' ), 'nosync' ); ?>>
                    Do not automatically sync any API data into this site
                </label>
            </li>
            <li>
                <label>
                    <input type="radio" name="options_data_sync" id="options_data_sync" value="updatesync" <?php checked( get_option( 'options_data_sync' ), 'updatesync' ); ?>>
                    Update data on this site with data from the API. Try not to delete posts added manually or data in manually-added custom fields which can supplement the API
                </label>
            </li>
            <li>
                <label>
                    <input type="radio" name="options_data_sync" id="options_data_sync" value="delete" <?php checked( get_option( 'options_data_sync' ), 'delete' ); ?>>
                    Delete all data that's been pulled from a third-party API
                </label>
            </li>
        </ul>
    </div>
</div>
<?php
    // Radio field
    if ( isset( $_POST['options_data_sync'] ) ) {
        $options_data_sync = sanitize_text_field( $_POST['options_data_sync'] );
        update_option( 'options_data_sync', $options_data_sync );
    }
?>

<!-- Checkboxes field -->
<div class="row">
    <div class="column">
        <label for="options_single_property_components">Single property components</label>
        <p class="description">These settings control which default components of the page display. Please note that theme developers can also customize this display in several other ways. Each individual section can be replaced by removing the corresponding action, or you can simply add a single-properties.php file to the root of your theme.</p>
        <p class="description">Please note that each individual section will only display if there's enough information to meaningfully display it. A property with no images set will not output a blank "images" section, for example.</p>
    </div>
    <div class="column">
        <?php
        
        // Get saved options
        $options_single_property_components = get_option('options_single_property_components');
        
        // Define default values
        $default_options = array(
            'enable_property_title',
            'enable_property_images',
            'enable_basic_info_display',
            'enable_property_description',
            'enable_floorplans_display',
            'enable_amenities_display',
            'enable_lease_details_display',
            'enable_property_map',
            'enable_nearby_properties',
        );
        
        // Make it an array just in case it isn't (for example, if it's a new install)
        if (!is_array($options_single_property_components)) {
            $options_single_property_components = $default_options;
        }
                    
        ?>
        <ul class="checkboxes">
            <li>
                <label>
                    <input type="checkbox" name="options_single_property_components[]" value="enable_property_title" <?php checked( in_array( 'enable_property_title', $options_single_property_components ) ); ?>>
                    Enable property title
                </label>
            </li>
            <li>
                <label>
                    <input type="checkbox" name="options_single_property_components[]" value="enable_property_images" <?php checked( in_array( 'enable_property_images', $options_single_property_components ) ); ?>>
                    Enable property images
                </label>
            </li>
            <li>
                <label>
                    <input type="checkbox" name="options_single_property_components[]" value="enable_section_navigation" <?php checked( in_array( 'enable_section_navigation', $options_single_property_components ) ); ?>>
                    Enable section navigation
                </label>
            </li>
        </ul>
    </div>
</div>
<?php
    // Checkboxes field
    if ( isset ( $_POST['options_single_property_components'] ) ) {
        $enabled_integrations = array_map('sanitize_text_field', $_POST['options_single_property_components']);
        update_option('options_single_property_components', $enabled_integrations);
    }
?>